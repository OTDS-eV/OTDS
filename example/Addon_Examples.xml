<?xml version="1.0" encoding="UTF-8"?>
<Otds xmlns="http://otds-group.org/otds" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Version="1.0" Market="DE" xsi:schemaLocation="http://otds-group.org/otds ../xsd/otds.xsd">
	<Products>
		<!-- Exemplarische Accommodation, auf die sich das Addon bezieht. Ein Addon kann stets nur mit einer anderen Komponente zusammen gebucht werden! -->
		<Product Key="Accom" ProductType="AccommodationOnly">
			<Components>
				<Accommodation/>
			</Components>
		</Product>
		<Product ProductType="Addon" Key="regionw">
			<Components>
				<!-- An dieser Stelle werden die Komponenten definiert, aus denen das Addon-Produkt besteht. -->
				<!-- Ein Addon benötigt immer den Bezug auf eine Accommodation, mit der es zusammen gebucht werden muss. -->
				<ProductComponent ProductType="AccommodationOnly"/>
				<Addon DayAllocationIndex="0"/>
			</Components>
			<!-- Einschränkungen mit welchen Komponenten das Addon gebucht werden kann. -->
			<Filter>
				<Or>
					<!-- Übereinstimmung bestimmter Tags. In diesem Beispiel handelt es sich um Leistungscodes der Accommodation, die in jeweils einem Tag in der bestimmten Accommodation und dem Addon vermerkt sind. -->
					<MatchEqual>
						<Tag Source="Accommodation" Class="Accom"/>
						<Tag Source="Addon" Class="Accom"/>
					</MatchEqual>
					
					<!-- Zusammenspiel bestimmter Bedingungen der jeweiligen Komponenten -->
					<And>
						<Or>
							<Tags Source="Accommodation" Class="Accom">050255</Tags>
							<Tags Source="Accommodation" Class="Accom">050260</Tags>
							<Tags Source="Accommodation" Class="Accom">050265</Tags>
						</Or>
						<Keys Source="Addon">0500S2</Keys>
					</And>
					
					<!-- Übereinstimmung eines Teils eines "Tags" (hier die ersten 3 Stellen) . -->
					<MatchEqual>
						<Tag Source="Accommodation" Class="Accom" Offset="1" Length="3"/>
						<Tag Source="Addon" Class="Region" Offset="1" Length="3"/>
					</MatchEqual>
				</Or>
			</Filter>
			<DayAllocation>
				<!-- Hier wird spezifiziert, welche Tage bezogen auf die Referenzkomponente für das Addon in Frage kommen. -->
				<DayAllocationStart Source="Accommodation" DayReference="CheckIn" Shift="External" Offset="0"/>
				<DayAllocationEnd Source="Accommodation" DayReference="CheckOut" Shift="Auto" Offset="0"/>
			</DayAllocation>
		</Product>
		<Product ProductType="Addon" Key="citycard">
			<Booking>
				<BookingGroup Area="GlobalArea">
					<BookingParameter Field="BrandCode" Index="0" PadCondition="Always" PadLength="0" PadOrientation="Right">
						<Value>XYZ</Value>
					</BookingParameter>
				</BookingGroup>
			</Booking>
			<Components>
				<!-- An dieser Stelle werden die Komponenten definiert, aus denen das Addon-Produkt besteht. -->
				<!-- Ein Addon benötigt immer den Bezug auf eine Accommodation, mit der es zusammen gebucht werden kann. -->
				<!-- Da aber die Accommodation auch alleine buchbar ist (das Addon ist optional!), wird hier auf ein bestehendes Produkt referenziert. -->
				<ProductComponent ProductType="AccommodationOnly"/>
				<Addon Name="1906C0" DayAllocationIndex="0"/>
			</Components>
			<!-- Einschränkungen für die Kombinierbarkeit. Hier als Beispiel über ein Tag, das einen übereinstimmenden Ort (Leipzig) vorgibt. -->
			<Filter>
				<MatchEqual>
					<Tag Source="Accommodation" Class="Ort"/>
					<Tag Source="Addon" Class="Ort"/>
				</MatchEqual>
			</Filter>
			<DayAllocation>
				<DayAllocationStart Source="Accommodation" DayReference="CheckIn" Shift="External" Offset="0"/>
				<DayAllocationEnd Source="Accommodation" DayReference="CheckOut" Shift="Auto" Offset="0"/>
			</DayAllocation>
		</Product>
		<Product ProductType="Addon" Key="carrental">
			<Booking>
				<BookingGroup Area="GlobalArea">
					<BookingParameter Field="BrandCode" Index="0" PadCondition="Always" PadLength="0" PadOrientation="Right">
						<Value>XYZ</Value>
					</BookingParameter>
				</BookingGroup>
			</Booking>
			<Components>
				<!-- An dieser Stelle werden die Komponenten definiert, aus denen das Addon-Produkt besteht. -->
				<!-- Ein Addon benötigt immer den Bezug auf eine Accommodation, mit der es zusammen gebucht werden kann. -->
				<!-- Da aber die Accommodation auch alleine buchbar ist (das Addon ist optional!), wird hier auf ein bestehendes Produkt referenziert. -->
				<ProductComponent ProductType="AccommodationOnly"/>
				<Addon DayAllocationIndex="0"/>
			</Components>
			<!-- Einschränkungen für die Kombinierbarkeit. Hier als Beispiel über ein Tag, das einen übereinstimmenden Zielflughafen (CatchmentAirport) vorgibt. -->
			<Filter>
				<MatchEqual>
					<Element Source="Accommodation">CatchmentAirport</Element>
					<Element Source="Addon">CatchmentAirport</Element>
				</MatchEqual>
			</Filter>
			<DayAllocation>
				<DayAllocationStart Source="Accommodation" DayReference="CheckIn" Shift="External" Offset="0"/>
				<DayAllocationEnd Source="Accommodation" DayReference="CheckOut" Shift="Auto" Offset="0"/>
			</DayAllocation>
		</Product>
	</Products>
	<Brands>
		<Brand Key="main">
			<Booking>
				<BookingGroup Area="GlobalArea">
					<BookingParameter Field="BrandCode" Index="0" PadCondition="Always" PadLength="0" PadOrientation="Right">
						<Value>XYZ</Value>
					</BookingParameter>
				</BookingGroup>
			</Booking>
		</Brand>
	</Brands>
	<Accommodations>
		<!--Exemplarische Accommodation. Auf eine ausführliche Definition wird hier verzichtet, da diese nur für die Kombination mit dem Addon benötigt wird. -->
		<Accommodation Key="050255">
			<Tags>
				<Tag Class="Accom">050255</Tag>
			</Tags>
			<!-- Tag zum Abgleich, mit welcher Accommodation das Addon verknüpft werden kann. -->
			<SellingAccom Key="1">
				<Booking>
					<BookingGroup Area="ServiceArea">
						<BookingParameter Field="ServiceCode" Index="0" PadCondition="Always" PadLength="0" PadOrientation="Right">
							<Value>050255</Value>
						</BookingParameter>
						<BookingParameter Field="RequestCode" Index="0" PadCondition="Always" PadLength="0" PadOrientation="Right">
							<Value>H</Value>
						</BookingParameter>
					</BookingGroup>
				</Booking>
				<Board Key="Board"/>
				<Unit Key="DZ">
					<SellingUnit Key="DZ">
						<Booking>
							<BookingGroup Area="ServiceArea">
								<BookingParameter Field="ServiceFeatureCode" Index="0" PadCondition="Always" PadLength="0" PadOrientation="Right">
									<Value>DZ</Value>
								</BookingParameter>
							</BookingGroup>
						</Booking>
						<Occupancy Key="A">
							<Person>
								<MinCount>1</MinCount>
							</Person>
						</Occupancy>
					</SellingUnit>
				</Unit>
			</SellingAccom>
		</Accommodation>
		
		<!--Exemplarische Accommodation. Auf eine ausführliche Definition wird hier verzichtet, da diese nur für die Kombination mit dem Addon benötigt wird. -->
		<Accommodation Key="051002">
			<Tags>
				<Tag Class="Accom">051002</Tag>
			</Tags>
			<!-- Tag zum Abgleich, mit welcher Accommodation das Addon verknüpft werden kann. -->
			<SellingAccom Key="1">
				<Booking>
					<BookingGroup Area="ServiceArea">
						<BookingParameter Field="ServiceCode" Index="0" PadCondition="Always" PadLength="0" PadOrientation="Right">
							<Value>051002</Value>
						</BookingParameter>
						<BookingParameter Field="RequestCode" Index="0" PadCondition="Always" PadLength="0" PadOrientation="Right">
							<Value>H</Value>
						</BookingParameter>
					</BookingGroup>
				</Booking>
				<Board Key="Board"/>
				<Unit Key="DZ">
					<SellingUnit Key="DZ">
						<Booking>
							<BookingGroup Area="ServiceArea">
								<BookingParameter Field="ServiceFeatureCode" Index="0" PadCondition="Always" PadLength="0" PadOrientation="Right">
									<Value>DZ</Value>
								</BookingParameter>
							</BookingGroup>
						</Booking>
						<Occupancy Key="A">
							<Person>
								<MinCount>1</MinCount>
							</Person>
						</Occupancy>
					</SellingUnit>
				</Unit>
			</SellingAccom>
		</Accommodation>
		<!--Exemplarische Accommodation. Auf eine ausführliche Definition wird hier verzichtet, da diese nur für die Kombination mit dem Addon benötigt wird. -->
		<Accommodation Key="1">
			<Tags>
				<Tag Class="Ort">Leipzig</Tag>
			</Tags>
			<!-- Tag zum Abgleich, mit welcher Accommodation das Addon verknüpft werden kann. -->
			<SellingAccom Key="1">
				<Booking>
					<BookingGroup Area="ServiceArea">
						<BookingParameter Field="ServiceCode" Index="0" PadCondition="Always" PadLength="0" PadOrientation="Right">
							<Value>ABCD</Value>
						</BookingParameter>
						<BookingParameter Field="RequestCode" Index="0" PadCondition="Always" PadLength="0" PadOrientation="Right">
							<Value>H</Value>
						</BookingParameter>
					</BookingGroup>
				</Booking>
				<Board Key="Board"/>
				<Unit Key="DZ">
					<SellingUnit Key="DZ">
						<Booking>
							<BookingGroup Area="ServiceArea">
								<BookingParameter Field="ServiceFeatureCode" Index="0" PadCondition="Always" PadLength="0" PadOrientation="Right">
									<Value>DZ</Value>
								</BookingParameter>
							</BookingGroup>
						</Booking>
						<Occupancy Key="A">
							<Person>
								<MinCount>1</MinCount>
							</Person>
						</Occupancy>
					</SellingUnit>
				</Unit>
			</SellingAccom>
		</Accommodation>
		
		<!--Exemplarische Accommodation. Auf eine ausführliche Definition wird hier verzichtet, da diese nur für die Kombination mit dem Addon benötigt wird. -->
		<Accommodation Key="1">
			<!-- Tag zum Abgleich, mit welcher Accommodation das Addon verknüpft werden kann. -->
			<SellingAccom Key="1">
				<Booking>
					<BookingGroup Area="ServiceArea">
						<BookingParameter Field="ServiceCode" Index="0" PadCondition="Always" PadLength="0" PadOrientation="Right">
							<Value>ABCD</Value>
						</BookingParameter>
						<BookingParameter Field="RequestCode" Index="0" PadCondition="Always" PadLength="0" PadOrientation="Right">
							<Value>H</Value>
						</BookingParameter>
					</BookingGroup>
				</Booking>
				<Board Key="Board"/>
				<Unit Key="DZ">
					<SellingUnit Key="DZ">
						<Booking>
							<BookingGroup Area="ServiceArea">
								<BookingParameter Field="ServiceFeatureCode" Index="0" PadCondition="Always" PadLength="0" PadOrientation="Right">
									<Value>DZ</Value>
								</BookingParameter>
							</BookingGroup>
						</Booking>
						<Occupancy Key="A">
							<Person>
								<MinCount>1</MinCount>
							</Person>
						</Occupancy>
					</SellingUnit>
				</Unit>
			</SellingAccom>
			
			<CatchmentAirports>ACE</CatchmentAirports>
		</Accommodation>
	</Accommodations>
	<Addons>
		<!-- Tagesausflug. Preis p.P. einmalig -->
		<!-- Verfügbar Januar bis Oktober 2012 (einschließlich) -->
		<!-- Einschränkung auf bestimmte Accommodations -->
		<Addon Key="0500S2">
			<Tags>
				<Tag Class="Accom">050255</Tag>
				<Tag Class="Accom">050260</Tag>
				<Tag Class="Accom">050265</Tag>
				<Tag Class="Region">051</Tag>
			</Tags>
			<!-- Tag zum Abgleich, mit welcher Accommodation das Addon verknüpft werden kann. -->
			<!-- Tour-Arrangement individuelle Ausflug -->
			<Booking>
				<BookingGroup Area="ServiceArea" Source="Addon">
					<BookingParameter Field="ServiceCode" >
						<Value>0500S2</Value>
					</BookingParameter>
					<BookingParameter Field="RequestCode" >
						<Value>H</Value>
					</BookingParameter>
				</BookingGroup>
			</Booking>
			<CheckOutDateOffset>0</CheckOutDateOffset>
			<Properties>
				<PropertyGroup>
					<AddonName>Erlebnisausflug</AddonName>
					<AddonServiceType>
						<TourArrangement>PrivateTour</TourArrangement>
					</AddonServiceType>
				</PropertyGroup>
			</Properties>
			<Service Key="X01">
				<Booking>
					<BookingGroup Area="ServiceArea" Source="Addon">
						<!-- BookingBlock des Service -->
						<BookingParameter Field="ServiceFeatureCode">
							<Value>X01</Value>
						</BookingParameter>
					</BookingGroup>
				</Booking>
				<Properties>
					<PropertyGroup>
						<AddonServiceType>
							<TourArrangement>PrivateTour</TourArrangement>
						</AddonServiceType>
						<AddonServiceName>Individueller Ausflug</AddonServiceName>
					</PropertyGroup>
				</Properties>
			</Service>
			<!-- Die Zusatzleistung ist nur im angegebenen Zeitraum verfügbar. -->
			<Filter>
				<Date Source="Addon" DayType="CheckIn">
					<Min>2012-01-01</Min>
					<Max>2012-10-31</Max>
				</Date>
			</Filter>
			<PriceItems Key="Prices">
				<!-- Preis: Einmalig 87 EUR p.P. -->
				<PriceItem Class="1T">
					<Absolute>
						<Value>87</Value>
						<DayBase>x</DayBase>
						<PersonBase>1</PersonBase>
					</Absolute>
				</PriceItem>
			</PriceItems>
		</Addon>
		
		<Addon Key="1906C0">
			<!-- Drei-Tages-Pass für Leipzig. Preis p.P. einmalig -->
			<!-- Verfügbar April bis Oktober 2012 (einschließlich) -->
			<!-- Accommodations sollten nur aus dem Ort Leipzig zugeordnet werden. -->
			<Tags>
				<Tag Class="Ort">Leipzig</Tag>
			</Tags>
			<!-- Tag zum Abgleich, mit welcher Accommodation das Addon verknüpft werden kann. -->
			<!--Tour-Arrangement 3-Tageskarte-->
			<!-- Booking-Informationen des Addons. Diese werden an jeden Service vererbt und müssen dort somit nicht mehr separat angegeben werden. -->
			<Booking>
				<BookingGroup Area="ServiceArea" Source="Addon">
					<BookingParameter Field="ServiceCode">
						<Value>1906C0</Value>
					</BookingParameter>
					<BookingParameter Field="RequestCode">
						<Value>H</Value>
					</BookingParameter>
				</BookingGroup>
			</Booking>
			<!-- CheckOutDateOffset = 0 : Die Buchung geschieht hier auf einen Tag, auch wenn dann der CityPass 3 Tage gültig ist. -->
			<CheckOutDateOffset>0</CheckOutDateOffset>
			<Properties>
				<PropertyGroup>
					<AddonName>Leipzig Card</AddonName>
					<AddonServiceType>
						<CityArrangement>CityPass</CityArrangement>
					</AddonServiceType>
				</PropertyGroup>
			</Properties>
			<Service Key="X01">
				<Booking>
					<BookingGroup Area="ServiceArea" Source="Addon">
						<!-- BookingBlock des Service -->
						<BookingParameter Field="ServiceFeatureCode">
							<Value>X01</Value>
						</BookingParameter>
					</BookingGroup>
				</Booking>
				<Properties>
					<PropertyGroup>
						<AddonServiceType>
							<CityArrangement>CityPass</CityArrangement>
						</AddonServiceType>
						<AddonServiceName>3-Tageskarte</AddonServiceName>
					</PropertyGroup>
				</Properties>
			</Service>
			<!-- Die Zusatzleistung ist nur im angegebenen Zeitraum verfügbar. -->
			<Filter>
				<Date Source="Addon" DayType="CheckIn">
					<Min>2012-04-01</Min>
					<Max>2012-10-31</Max>
				</Date>
			</Filter>
			<PriceItems Key="Prices">
				<PriceItem Class="3T">
					<!-- Preis: einmalig EUR19.- p.P. -->
					<Absolute>
						<Value>19</Value>
						<DayBase>x</DayBase>
						<PersonBase>1</PersonBase>
					</Absolute>
				</PriceItem>
			</PriceItems>
			<CatchmentAirports>LEJ</CatchmentAirports>
		</Addon>
		<!-- Drei-Tages-Pass für Leipzig. Preis p.P. einmalig -->
		<!-- Verfügbar April bis Oktober 2012 (einschließlich) -->
		<!-- Keine Einschränkung auf bestimmte Accommodations -->
		<Addon Key="ACE666B">
			<!-- Mietwagen -->
			<!-- Booking-Informationen des Addons. Diese werden an jeden Service vererbt und müssen dort somit nicht mehr separat angegeben werden. -->
			<Booking>
				<BookingGroup Area="ServiceArea" Source="Addon">
					<BookingParameter Field="ServiceCode">
						<Value>ACE666B</Value>
					</BookingParameter>
					<BookingParameter Field="RequestCode">
						<Value>H</Value>
					</BookingParameter>
				</BookingGroup>
			</Booking>
			<!-- Kein CheckOutDateOffset bedeutet bei Addons, dass das Addon (zeitlich) flexibel ist -->
			<Properties>
				<PropertyGroup>
					<AddonName>Mietwagen</AddonName>
					<AddonServiceType>
						<CarRental>SmallCar</CarRental>
					</AddonServiceType>
				</PropertyGroup>
			</Properties>
			<Service Key="A">
				<Booking>
					<BookingGroup Area="ServiceArea" Source="Addon">
						<!-- BookingBlock des Service -->
						<BookingParameter Field="ServiceFeatureCode">
							<Value>A</Value>
						</BookingParameter>
					</BookingGroup>
				</Booking>
				<Properties>
					<PropertyGroup>
						<AddonServiceType>
							<CarRental>SmallCar</CarRental>
						</AddonServiceType>
						<AddonServiceName>MIETWAGEN TYP A</AddonServiceName>
					</PropertyGroup>
				</Properties>
			</Service>
			<PriceItems Key="Prices">
				<PriceItem Class="week">
					<!-- Preis: einmalig EUR 30.- pro Tag -->
					<Absolute>
						<Value>30</Value>
						<DayBase>1</DayBase>
						<PersonBase>x</PersonBase>
					</Absolute>
				</PriceItem>
			</PriceItems>
			<CatchmentAirports>ACE</CatchmentAirports>
		</Addon>
	</Addons>
</Otds>
